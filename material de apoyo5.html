<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pruebas Interactivas de Biolog√≠a</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1b5e20, #2e7d32, #4caf50);
            color: #fff;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: rgba(0, 0, 0, 0.7);
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 0 2px 5px rgba(0, 0, 0, 0.5);
            background: linear-gradient(45deg, #81c784, #e8f5e9);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
            margin-bottom: 20px;
        }
        
        .selection-screen, .quiz-screen, .results-screen {
            display: none;
        }
        
        .selection-screen.active, .quiz-screen.active, .results-screen.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        .branch-selection {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin-top: 40px;
        }
        
        .branch-card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 30px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
            position: relative;
            overflow: hidden;
        }
        
        .branch-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            transform: translateX(-100%);
            transition: transform 0.6s;
        }
        
        .branch-card:hover::before {
            transform: translateX(100%);
        }
        
        .branch-card:hover {
            transform: translateY(-10px);
            border-color: #81c784;
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.4);
        }
        
        .branch-icon {
            font-size: 4.5rem;
            margin-bottom: 20px;
            filter: drop-shadow(0 5px 10px rgba(0,0,0,0.3));
        }
        
        .branch-title {
            font-size: 1.6rem;
            margin-bottom: 15px;
            color: #81c784;
        }
        
        .branch-description {
            font-size: 1rem;
            opacity: 0.9;
            line-height: 1.5;
        }
        
        .question-container {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            border-left: 5px solid #81c784;
        }
        
        .question-text {
            font-size: 1.4rem;
            margin-bottom: 25px;
            line-height: 1.5;
        }
        
        .options-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        
        .option {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 12px;
            padding: 18px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 1.1rem;
        }
        
        .option:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-3px);
        }
        
        .option.selected {
            border-color: #4CAF50;
            background: rgba(76, 175, 80, 0.2);
        }
        
        .option.correct {
            border-color: #4CAF50;
            background: rgba(76, 175, 80, 0.3);
        }
        
        .option.incorrect {
            border-color: #f44336;
            background: rgba(244, 67, 54, 0.3);
        }
        
        .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }
        
        button {
            background: linear-gradient(45deg, #388e3c, #4caf50);
            color: white;
            border: none;
            border-radius: 10px;
            padding: 15px 30px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
        }
        
        button:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(76, 175, 80, 0.4);
        }
        
        button:disabled {
            background: #666;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        .progress-container {
            margin: 25px 0;
        }
        
        .progress-bar {
            height: 12px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 6px;
            overflow: hidden;
            margin-bottom: 10px;
        }
        
        .progress {
            height: 100%;
            background: linear-gradient(45deg, #4CAF50, #8bc34a);
            width: 0%;
            transition: width 0.5s ease;
        }
        
        .question-counter {
            text-align: center;
            margin-bottom: 10px;
            font-size: 1.2rem;
            color: #81c784;
        }
        
        .results-container {
            text-align: center;
            padding: 40px;
        }
        
        .score {
            font-size: 5rem;
            margin: 30px 0;
            color: #4CAF50;
            text-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }
        
        .result-message {
            font-size: 1.8rem;
            margin-bottom: 40px;
            color: #81c784;
        }
        
        .feedback {
            margin-top: 25px;
            padding: 20px;
            border-radius: 12px;
            background: rgba(255, 255, 255, 0.1);
            text-align: left;
            line-height: 1.6;
        }
        
        .feedback.correct {
            border-left: 5px solid #4CAF50;
        }
        
        .feedback.incorrect {
            border-left: 5px solid #f44336;
        }
        
        .results-summary {
            max-height: 500px;
            overflow-y: auto;
            margin: 30px 0;
            padding-right: 10px;
        }
        
        .results-summary::-webkit-scrollbar {
            width: 8px;
        }
        
        .results-summary::-webkit-scrollbar-track {
            background: rgba(255,255,255,0.1);
            border-radius: 4px;
        }
        
        .results-summary::-webkit-scrollbar-thumb {
            background: #81c784;
            border-radius: 4px;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        .pulse {
            animation: pulse 2s infinite;
        }
        
        @media (max-width: 768px) {
            .options-container {
                grid-template-columns: 1fr;
            }
            
            .branch-selection {
                grid-template-columns: 1fr;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .question-text {
                font-size: 1.2rem;
            }
        }
        #video_background {
            position: fixed;
            right: 0;
            bottom: 0;
            min-width: 100%;
            min-height: 100%;
            width: auto;
            height: auto;
            z-index: -1;
            background-size: cover;
            overflow: hidden;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Exploraci√≥n Biol√≥gica</h1>
            <p class="subtitle">Descubre los misterios de la vida a trav√©s de la ciencia</p>
        </header>
        
        <!-- Pantalla de selecci√≥n de rama -->
        <div class="selection-screen active">
            <div class="branch-selection">
                <div class="branch-card" data-branch="biologia-celular">
                    <div class="branch-icon">üî¨</div>
                    <h3 class="branch-title">Biolog√≠a Celular</h3>
                    <p class="branch-description">C√©lulas, organelos y biomol√©culas fundamentales para la vida</p>
                </div>
                
                <div class="branch-card" data-branch="genetica">
                    <div class="branch-icon">üß¨</div>
                    <h3 class="branch-title">Gen√©tica</h3>
                    <p class="branch-description">ADN, herencia y mecanismos de transmisi√≥n gen√©tica</p>
                </div>
                
                <div class="branch-card" data-branch="ecologia">
                    <div class="branch-icon">üåç</div>
                    <h3 class="branch-title">Ecolog√≠a</h3>
                    <p class="branch-description">Ecosistemas, relaciones bi√≥ticas y conservaci√≥n ambiental</p>
                </div>
                
                <div class="branch-card" data-branch="biotecnologia">
                    <div class="branch-icon">üß™</div>
                    <h3 class="branch-title">Biotecnolog√≠a</h3>
                    <p class="branch-description">Aplicaciones tecnol√≥gicas de sistemas biol√≥gicos</p>
                </div>
            </div>
        </div>
        
        <!-- Pantalla del cuestionario -->
        <div class="quiz-screen">
            <div class="question-counter">
                Pregunta <span id="current-question">1</span> de <span id="total-questions">10</span>
            </div>
            <div class="progress-container">
                <div class="progress-bar">
                    <div class="progress" id="progress-bar"></div>
                </div>
            </div>
            
            <div class="question-container">
                <h2 class="question-text" id="question-text">¬øCu√°l es la unidad b√°sica de la vida?</h2>
                
                <div class="options-container" id="options-container">
                    <!-- Las opciones se generar√°n din√°micamente -->
                </div>
                
                <div class="feedback" id="feedback" style="display: none;">
                    <!-- La retroalimentaci√≥n se mostrar√° aqu√≠ -->
                </div>
            </div>
            
            <div class="navigation">
                <button id="prev-btn" disabled>‚Üê Anterior</button>
                <button id="next-btn">Siguiente ‚Üí</button>
            </div>
        </div>
        
        <!-- Pantalla de resultados -->
        <div class="results-screen">
            <div class="results-container">
                <h2>¬°Expedici√≥n Cient√≠fica Completa!</h2>
                <div class="score pulse" id="final-score">0/10</div>
                <p class="result-message" id="result-message">¬°Eres un verdadero bi√≥logo!</p>
                
                <div class="results-summary" id="results-summary">
                    <!-- El resumen de resultados se generar√° aqu√≠ -->
                </div>
                
                <button id="restart-btn">Nueva Exploraci√≥n Cient√≠fica</button>
            </div>
        </div>
    </div>

    <script>
        // Base de datos de preguntas por rama (10 preguntas cada una)
        const questionsDatabase = {
            "biologia-celular": [
                {
                    question: "¬øCu√°l es la unidad b√°sica de la vida?",
                    options: [
                        "La c√©lula",
                        "El √°tomo",
                        "La mol√©cula",
                        "El tejido"
                    ],
                    correct: 0,
                    explanation: "La c√©lula es considerada la unidad b√°sica de la vida seg√∫n la teor√≠a celular, propuesta por Schleiden y Schwann en 1839."
                },
                {
                    question: "¬øQu√© organelo es conocido como la 'central energ√©tica' de la c√©lula?",
                    options: [
                        "Mitocondria",
                        "N√∫cleo",
                        "Ret√≠culo endopl√°smico",
                        "Aparato de Golgi"
                    ],
                    correct: 0,
                    explanation: "La mitocondria produce ATP mediante la respiraci√≥n celular, por lo que se le considera la central energ√©tica de la c√©lula."
                },
                {
                    question: "¬øQu√© biomol√©cula es el principal componente estructural de las membranas celulares?",
                    options: [
                        "L√≠pidos (fosfol√≠pidos)",
                        "Prote√≠nas",
                        "Carbohidratos",
                        "√Åcidos nucleicos"
                    ],
                    correct: 0,
                    explanation: "Los fosfol√≠pidos forman la bicapa lip√≠dica que constituye la estructura b√°sica de todas las membranas celulares."
                },
                {
                    question: "¬øQu√© proceso permite a las c√©lulas dividirse y producir c√©lulas hijas id√©nticas?",
                    options: [
                        "Mitosis",
                        "Meiosis",
                        "Fotos√≠ntesis",
                        "Respiraci√≥n"
                    ],
                    correct: 0,
                    explanation: "La mitosis es el proceso de divisi√≥n celular que produce dos c√©lulas hijas gen√©ticamente id√©nticas a la c√©lula madre."
                },
                {
                    question: "¬øQu√© organelo contiene el material gen√©tico de la c√©lula?",
                    options: [
                        "N√∫cleo",
                        "Ribosoma",
                        "Mitocondria",
                        "Cloroplasto"
                    ],
                    correct: 0,
                    explanation: "El n√∫cleo celular contiene la mayor parte del material gen√©tico en forma de cromosomas de ADN."
                },
                {
                    question: "¬øQu√© tipo de transporte celular requiere energ√≠a (ATP)?",
                    options: [
                        "Transporte activo",
                        "Difusi√≥n simple",
                        "√ìsmosis",
                        "Difusi√≥n facilitada"
                    ],
                    correct: 0,
                    explanation: "El transporte activo mueve sustancias contra su gradiente de concentraci√≥n y requiere energ√≠a en forma de ATP."
                },
                {
                    question: "¬øQu√© organelo es responsable de la s√≠ntesis de prote√≠nas?",
                    options: [
                        "Ribosoma",
                        "Mitocondria",
                        "Lisosoma",
                        "Vacuola"
                    ],
                    correct: 0,
                    explanation: "Los ribosomas, libres en el citoplasma o unidos al ret√≠culo endopl√°smico, son los sitios de s√≠ntesis de prote√≠nas."
                },
                {
                    question: "¬øQu√© caracter√≠stica diferencia a las c√©lulas procariotas de las eucariotas?",
                    options: [
                        "Ausencia de n√∫cleo definido",
                        "Presencia de mitocondrias",
                        "Tama√±o m√°s grande",
                        "Presencia de cloroplastos"
                    ],
                    correct: 0,
                    explanation: "Las c√©lulas procariotas carecen de n√∫cleo definido y su material gen√©tico est√° disperso en el citoplasma."
                },
                {
                    question: "¬øQu√© proceso convierte la energ√≠a luminosa en energ√≠a qu√≠mica?",
                    options: [
                        "Fotos√≠ntesis",
                        "Respiraci√≥n celular",
                        "Fermentaci√≥n",
                        "Digesti√≥n"
                    ],
                    correct: 0,
                    explanation: "La fotos√≠ntesis en los cloroplastos convierte energ√≠a luminosa, agua y CO‚ÇÇ en glucosa y ox√≠geno."
                },
                {
                    question: "¬øQu√© estructura celular proporcione soporte y forma a la c√©lula vegetal?",
                    options: [
                        "Pared celular",
                        "Membrana plasm√°tica",
                        "Citoesqueleto",
                        "C√°psula"
                    ],
                    correct: 0,
                    explanation: "La pared celular de celulosa proporciona rigidez, soporte y protecci√≥n a las c√©lulas vegetales."
                }
            ],
            "genetica": [
                {
                    question: "¬øQu√© significa las siglas ADN?",
                    options: [
                        "√Åcido Desoxirribonucleico",
                        "√Åcido Diribonucleico Activo",
                        "Adenosina Dinucle√≥tido",
                        "Agente De Naturalizaci√≥n"
                    ],
                    correct: 0,
                    explanation: "ADN significa √Åcido Desoxirribonucleico, la mol√©cula que contiene la informaci√≥n gen√©tica de los organismos."
                },
                {
                    question: "¬øQui√©nes descubrieron la estructura del ADN?",
                    options: [
                        "Watson y Crick",
                        "Mendel y Darwin",
                        "Pasteur y Koch",
                        "Einstein y Newton"
                    ],
                    correct: 0,
                    explanation: "James Watson y Francis Crick propusieron el modelo de doble h√©lice del ADN en 1953, bas√°ndose en trabajos previos como los de Rosalind Franklin."
                },
                {
                    question: "¬øQu√© es un gen?",
                    options: [
                        "Unidad de herencia que codifica una prote√≠na",
                        "Un tipo de cromosoma",
                        "Una mol√©cula de ARN",
                        "Una enzima digestiva"
                    ],
                    correct: 0,
                    explanation: "Un gen es una secuencia de ADN que contiene la informaci√≥n para sintetizar una prote√≠na o mol√©cula de ARN funcional."
                },
                {
                    question: "¬øQu√© patr√≥n de herencia muestra el daltonismo?",
                    options: [
                        "Herencia ligada al cromosoma X",
                        "Herencia autos√≥mica dominante",
                        "Herencia mitocondrial",
                        "Herencia polig√©nica"
                    ],
                    correct: 0,
                    explanation: "El daltonismo es un trastorno recesivo ligado al cromosoma X, por lo que afecta principalmente a los hombres."
                },
                {
                    question: "¬øQu√© proceso produce gametos con variaci√≥n gen√©tica?",
                    options: [
                        "Meiosis",
                        "Mitosis",
                        "Fisi√≥n binaria",
                        "Gemaci√≥n"
                    ],
                    correct: 0,
                    explanation: "La meiosis incluye crossing over y segregaci√≥n aleatoria, generando gametos con combinaciones gen√©ticas √∫nicas."
                },
                {
                    question: "¬øQu√© son los alelos?",
                    options: [
                        "Formas alternativas de un gen",
                        "Tipos de cromosomas",
                        "Mol√©culas de ARN mensajero",
                        "Enzimas de reparaci√≥n del ADN"
                    ],
                    correct: 0,
                    explanation: "Los alelos son versiones diferentes de un mismo gen que ocupan el mismo locus en cromosomas hom√≥logos."
                },
                {
                    question: "¬øQu√© cient√≠fico es considerado el padre de la gen√©tica?",
                    options: [
                        "Gregor Mendel",
                        "Charles Darwin",
                        "Louis Pasteur",
                        "Alexander Fleming"
                    ],
                    correct: 0,
                    explanation: "Gregor Mendel, con sus experimentos con guisantes en el siglo XIX, estableci√≥ las leyes fundamentales de la herencia."
                },
                {
                    question: "¬øQu√© es una mutaci√≥n?",
                    options: [
                        "Cambio en la secuencia del ADN",
                        "Divisi√≥n celular acelerada",
                        "P√©rdida de un cromosoma",
                        "Formaci√≥n de un nuevo gen"
                    ],
                    correct: 0,
                    explanation: "Una mutaci√≥n es cualquier cambio en la secuencia de nucle√≥tidos del ADN que puede alterar la funci√≥n g√©nica."
                },
                {
                    question: "¬øQu√© proyecto secuenci√≥ el genoma humano completo?",
                    options: [
                        "Proyecto Genoma Humano",
                        "Proyecto ADN Internacional",
                        "Iniciativa Gen√©tica Mundial",
                        "Consorcio de Secuenciaci√≥n"
                    ],
                    correct: 0,
                    explanation: "El Proyecto Genoma Humano (1990-2003) logr√≥ secuenciar y mapear todos los genes del genoma humano."
                },
                {
                    question: "¬øQu√© tecnolog√≠a permite editar genes espec√≠ficos?",
                    options: [
                        "CRISPR-Cas9",
                        "PCR",
                        "Electroforesis",
                        "Clonaci√≥n"
                    ],
                    correct: 0,
                    explanation: "CRISPR-Cas9 es una tecnolog√≠a de edici√≥n gen√©tica que permite modificar secuencias espec√≠ficas de ADN con alta precisi√≥n."
                }
            ],
            "ecologia": [
                {
                    question: "¬øQu√© es un ecosistema?",
                    options: [
                        "Comunidad biol√≥gica m√°s su ambiente f√≠sico",
                        "Solo los seres vivos de un √°rea",
                        "El clima de una regi√≥n",
                        "Las relaciones entre depredadores y presas"
                    ],
                    correct: 0,
                    explanation: "Un ecosistema incluye tanto los componentes bi√≥ticos (seres vivos) como abi√≥ticos (factores f√≠sicos y qu√≠micos) que interact√∫an en un √°rea."
                },
                {
                    question: "¬øQu√© organismos producen su propio alimento mediante fotos√≠ntesis?",
                    options: [
                        "Productores (aut√≥trofos)",
                        "Consumidores (heter√≥trofos)",
                        "Descomponedores",
                        "Par√°sitos"
                    ],
                    correct: 0,
                    explanation: "Los productores o aut√≥trofos, como las plantas y algas, fabrican su propio alimento mediante fotos√≠ntesis o quimios√≠ntesis."
                },
                {
                    question: "¬øQu√© es la biodiversidad?",
                    options: [
                        "Variedad de vida en la Tierra",
                        "N√∫mero de animales en un √°rea",
                        "Cantidad de plantas medicinales",
                        "Diversidad de climas"
                    ],
                    correct: 0,
                    explanation: "La biodiversidad incluye la variedad de especies, diversidad gen√©tica dentro de las especies, y variedad de ecosistemas."
                },
                {
                    question: "¬øQu√© ciclo biogeoqu√≠mico involucra la evaporaci√≥n y precipitaci√≥n?",
                    options: [
                        "Ciclo del agua",
                        "Ciclo del carbono",
                        "Ciclo del nitr√≥geno",
                        "Ciclo del f√≥sforo"
                    ],
                    correct: 0,
                    explanation: "El ciclo hidrol√≥gico o del agua incluye evaporaci√≥n, condensaci√≥n, precipitaci√≥n y escorrent√≠a."
                },
                {
                    question: "¬øQu√© es una especie invasora?",
                    options: [
                        "Especie no nativa que causa da√±o al ecosistema",
                        "Animal en peligro de extinci√≥n",
                        "Planta medicinal rara",
                        "Microorganismo beneficioso"
                    ],
                    correct: 0,
                    explanation: "Las especies invasoras son organismos no nativos que se establecen y expanden, causando da√±os ecol√≥gicos o econ√≥micos."
                },
                {
                    question: "¬øQu√© es la sucesi√≥n ecol√≥gica?",
                    options: [
                        "Cambio gradual en la composici√≥n de una comunidad",
                        "Migraci√≥n estacional de animales",
                        "Extinci√≥n masiva de especies",
                        "Expansi√≥n de desiertos"
                    ],
                    correct: 0,
                    explanation: "La sucesi√≥n ecol√≥gica es el proceso de cambio gradual y ordenado en la composici√≥n de especies de una comunidad a lo largo del tiempo."
                },
                {
                    question: "¬øQu√© gas es el principal responsable del efecto invernadero?",
                    options: [
                        "Di√≥xido de carbono (CO‚ÇÇ)",
                        "Ox√≠geno (O‚ÇÇ)",
                        "Nitr√≥geno (N‚ÇÇ)",
                        "Hidr√≥geno (H‚ÇÇ)"
                    ],
                    correct: 0,
                    explanation: "El CO‚ÇÇ es el principal gas de efecto invernadero de origen antropog√©nico, aunque el metano y otros tambi√©n contribuyen."
                },
                {
                    question: "¬øQu√© es un nicho ecol√≥gico?",
                    options: [
                        "Papel funcional de una especie en el ecosistema",
                        "Lugar f√≠sico donde vive una especie",
                        "Tipo de alimento que consume un animal",
                        "√âpoca de reproducci√≥n de una planta"
                    ],
                    correct: 0,
                    explanation: "El nicho ecol√≥gico describe c√≥mo una especie interact√∫a con los factores bi√≥ticos y abi√≥ticos de su ambiente."
                },
                {
                    question: "¬øQu√© organizaci√≥n internacional se enfoca en la conservaci√≥n de especies?",
                    options: [
                        "UICN (Uni√≥n Internacional para la Conservaci√≥n de la Naturaleza)",
                        "OMS (Organizaci√≥n Mundial de la Salud)",
                        "FAO (Organizaci√≥n de las Naciones Unidas para la Alimentaci√≥n)",
                        "UNESCO (Organizaci√≥n de las Naciones Unidas para la Educaci√≥n, la Ciencia y la Cultura)"
                    ],
                    correct: 0,
                    explanation: "La UICN mantiene la Lista Roja de especies amenazadas y promueve la conservaci√≥n de la biodiversidad a nivel global."
                },
                {
                    question: "¬øQu√© pr√°ctica ayuda a conservar los recursos naturales?",
                    options: [
                        "Las tres R: Reducir, Reutilizar, Reciclar",
                        "Uso exclusivo de energ√≠a nuclear",
                        "Deforestaci√≥n controlada",
                        "Caza deportiva regulada"
                    ],
                    correct: 0,
                    explanation: "Las tres R (Reducir consumo, Reutilizar productos, Reciclar materiales) son fundamentales para la conservaci√≥n de recursos y reducci√≥n de residuos."
                }
            ],
            "biotecnologia": [
                {
                    question: "¬øQu√© es la biotecnolog√≠a?",
                    options: [
                        "Uso de organismos vivos para desarrollar productos",
                        "Estudio de f√≥siles antiguos",
                        "An√°lisis de rocas y minerales",
                        "Cultivo de plantas ornamentales"
                    ],
                    correct: 0,
                    explanation: "La biotecnolog√≠a utiliza sistemas biol√≥gicos, organismos vivos o sus derivados para crear o modificar productos o procesos."
                },
                {
                    question: "¬øQu√© t√©cnica permite amplificar peque√±as cantidades de ADN?",
                    options: [
                        "PCR (Reacci√≥n en Cadena de la Polimerasa)",
                        "Electroforesis en gel",
                        "Secuenciaci√≥n Sanger",
                        "Southern blot"
                    ],
                    correct: 0,
                    explanation: "La PCR amplifica exponencialmente fragmentos espec√≠ficos de ADN, permitiendo su an√°lisis incluso a partir de muestras m√≠nimas."
                },
                {
                    question: "¬øQu√© organismo se usa com√∫nmente en ingenier√≠a gen√©tica?",
                    options: [
                        "E. coli",
                        "Saccharomyces cerevisiae",
                        "Arabidopsis thaliana",
                        "Drosophila melanogaster"
                    ],
                    correct: 0,
                    explanation: "La bacteria Escherichia coli es ampliamente utilizada como hu√©sped para clonar genes y producir prote√≠nas recombinantes."
                },
                {
                    question: "¬øQu√© es un organismo transg√©nico?",
                    options: [
                        "Organismo con genes de otra especie",
                        "Organismo clonado artificialmente",
                        "Organismo mutado naturalmente",
                        "Organismo en peligro de extinci√≥n"
                    ],
                    correct: 0,
                    explanation: "Un organismo transg√©nico contiene material gen√©tico de otra especie, insertado mediante t√©cnicas de ingenier√≠a gen√©tica."
                },
                {
                    question: "¬øQu√© aplicaci√≥n tiene la biotecnolog√≠a en medicina?",
                    options: [
                        "Producci√≥n de insulina humana",
                        "Fabricaci√≥n de pr√≥tesis met√°licas",
                        "Desarrollo de rayos X",
                        "Creaci√≥n de antibi√≥ticos sint√©ticos"
                    ],
                    correct: 0,
                    explanation: "La insulina humana recombinante fue uno de los primeros productos farmac√©uticos obtenidos mediante biotecnolog√≠a, usando bacterias modificadas."
                },
                {
                    question: "¬øQu√© es la terapia g√©nica?",
                    options: [
                        "Tratamiento que introduce genes funcionales",
                        "Extracci√≥n de genes defectuosos",
                        "An√°lisis de √°rboles geneal√≥gicos",
                        "Modificaci√≥n de cromosomas completos"
                    ],
                    correct: 0,
                    explanation: "La terapia g√©nica busca tratar enfermedades introduciendo genes funcionales para reemplazar o complementar genes defectuosos."
                },
                {
                    question: "¬øQu√© cultivos han sido modificados gen√©ticamente para resistencia a plagas?",
                    options: [
                        "Ma√≠z Bt",
                        "Trigo org√°nico",
                        "Arroz integral",
                        "Tomate cherry"
                    ],
                    correct: 0,
                    explanation: "El ma√≠z Bt contiene genes de Bacillus thuringiensis que producen toxinas contra insectos plaga, reduciendo el uso de pesticidas."
                },
                {
                    question: "¬øQu√© t√©cnica permite identificar individuos por su ADN?",
                    options: [
                        "Huella gen√©tica (DNA fingerprinting)",
                        "An√°lisis de grupo sangu√≠neo",
                        "Prueba de paternidad serol√≥gica",
                        "Estudio de huellas dactilares"
                    ],
                    correct: 0,
                    explanation: "La huella gen√©tica analiza regiones hipervariables del ADN que son √∫nicas para cada individuo (excepto gemelos id√©nticos)."
                },
                {
                    question: "¬øQu√© es la biotecnolog√≠a roja?",
                    options: [
                        "Aplicaciones m√©dicas y farmac√©uticas",
                        "Procesos industriales",
                        "Agricultura y alimentos",
                        "Biorremediaci√≥n ambiental"
                    ],
                    correct: 0,
                    explanation: "La biotecnolog√≠a roja se enfoca en aplicaciones m√©dicas como desarrollo de f√°rmacos, terapias y diagn√≥stico."
                },
                {
                    question: "¬øQu√© enzima se usa para cortar el ADN en lugares espec√≠ficos?",
                    options: [
                        "Enzimas de restricci√≥n",
                        "ADN polimerasa",
                        "ARN polimerasa",
                        "Ligasa"
                    ],
                    correct: 0,
                    explanation: "Las enzimas de restricci√≥n reconocen y cortan secuencias espec√≠ficas de ADN, siendo herramientas esenciales en ingenier√≠a gen√©tica."
                }
            ]
        };

        // Variables de estado
        let currentBranch = '';
        let currentQuestions = [];
        let currentQuestionIndex = 0;
        let userAnswers = [];
        let score = 0;

        // Elementos DOM
        const selectionScreen = document.querySelector('.selection-screen');
        const quizScreen = document.querySelector('.quiz-screen');
        const resultsScreen = document.querySelector('.results-screen');
        const branchCards = document.querySelectorAll('.branch-card');
        const questionText = document.getElementById('question-text');
        const optionsContainer = document.getElementById('options-container');
        const currentQuestionElement = document.getElementById('current-question');
        const totalQuestionsElement = document.getElementById('total-questions');
        const progressBar = document.getElementById('progress-bar');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const feedbackElement = document.getElementById('feedback');
        const finalScoreElement = document.getElementById('final-score');
        const resultMessageElement = document.getElementById('result-message');
        const resultsSummaryElement = document.getElementById('results-summary');
        const restartBtn = document.getElementById('restart-btn');

        // Event Listeners
        branchCards.forEach(card => {
            card.addEventListener('click', () => {
                currentBranch = card.getAttribute('data-branch');
                startQuiz(currentBranch);
            });
        });

        prevBtn.addEventListener('click', goToPreviousQuestion);
        nextBtn.addEventListener('click', goToNextQuestion);
        restartBtn.addEventListener('click', restartQuiz);

        // Funciones
        function startQuiz(branch) {
            currentBranch = branch;
            currentQuestions = [...questionsDatabase[branch]];
            currentQuestionIndex = 0;
            userAnswers = new Array(currentQuestions.length).fill(null);
            score = 0;
            
            selectionScreen.classList.remove('active');
            quizScreen.classList.add('active');
            
            totalQuestionsElement.textContent = currentQuestions.length;
            updateQuestion();
        }

        function updateQuestion() {
            const question = currentQuestions[currentQuestionIndex];
            questionText.textContent = question.question;
            
            // Actualizar contador
            currentQuestionElement.textContent = currentQuestionIndex + 1;
            
            // Actualizar barra de progreso
            const progress = ((currentQuestionIndex + 1) / currentQuestions.length) * 100;
            progressBar.style.width = `${progress}%`;
            
            // Limpiar opciones anteriores
            optionsContainer.innerHTML = '';
            feedbackElement.style.display = 'none';
            
            // Crear nuevas opciones
            question.options.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.classList.add('option');
                optionElement.textContent = option;
                
                // Marcar si ya fue seleccionada
                if (userAnswers[currentQuestionIndex] === index) {
                    optionElement.classList.add('selected');
                }
                
                optionElement.addEventListener('click', () => selectOption(index));
                optionsContainer.appendChild(optionElement);
            });
            
            // Actualizar botones de navegaci√≥n
            prevBtn.disabled = currentQuestionIndex === 0;
            
            if (currentQuestionIndex === currentQuestions.length - 1) {
                nextBtn.textContent = 'Finalizar Exploraci√≥n';
            } else {
                nextBtn.textContent = 'Siguiente ‚Üí';
            }
            
            // Si ya respondi√≥ esta pregunta, mostrar retroalimentaci√≥n
            if (userAnswers[currentQuestionIndex] !== null) {
                showFeedback();
            }
        }

        function selectOption(optionIndex) {
            // Solo permitir selecci√≥n si no ha respondido a√∫n
            if (userAnswers[currentQuestionIndex] === null) {
                userAnswers[currentQuestionIndex] = optionIndex;
                
                // Actualizar visualizaci√≥n de opciones
                const options = document.querySelectorAll('.option');
                options.forEach((option, index) => {
                    option.classList.remove('selected');
                    if (index === optionIndex) {
                        option.classList.add('selected');
                    }
                });
                
                // Mostrar retroalimentaci√≥n
                showFeedback();
            }
        }

        function showFeedback() {
            const question = currentQuestions[currentQuestionIndex];
            const userAnswer = userAnswers[currentQuestionIndex];
            const isCorrect = userAnswer === question.correct;
            
            // Actualizar visualizaci√≥n de opciones
            const options = document.querySelectorAll('.option');
            options.forEach((option, index) => {
                option.classList.remove('correct', 'incorrect');
                if (index === question.correct) {
                    option.classList.add('correct');
                } else if (index === userAnswer && !isCorrect) {
                    option.classList.add('incorrect');
                }
            });
            
            // Mostrar explicaci√≥n
            feedbackElement.textContent = question.explanation;
            feedbackElement.className = 'feedback ' + (isCorrect ? 'correct' : 'incorrect');
            feedbackElement.style.display = 'block';
        }

        function goToPreviousQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                updateQuestion();
            }
        }

        function goToNextQuestion() {
            // Verificar que haya respondido la pregunta actual
            if (userAnswers[currentQuestionIndex] === null) {
                alert('Por favor, selecciona una respuesta antes de continuar.');
                return;
            }
            
            if (currentQuestionIndex < currentQuestions.length - 1) {
                currentQuestionIndex++;
                updateQuestion();
            } else {
                // Calcular puntuaci√≥n
                score = 0;
                userAnswers.forEach((answer, index) => {
                    if (answer === currentQuestions[index].correct) {
                        score++;
                    }
                });
                
                showResults();
            }
        }

        function showResults() {
            quizScreen.classList.remove('active');
            resultsScreen.classList.add('active');
            
            // Mostrar puntuaci√≥n
            finalScoreElement.textContent = `${score}/${currentQuestions.length}`;
            
            // Mostrar mensaje seg√∫n puntuaci√≥n
            const percentage = (score / currentQuestions.length) * 100;
            if (percentage >= 90) {
                resultMessageElement.textContent = '¬°Eres un Genio de la Biolog√≠a! Dominas completamente esta √°rea';
            } else if (percentage >= 70) {
                resultMessageElement.textContent = '¬°Excelente trabajo cient√≠fico! Tienes grandes conocimientos biol√≥gicos';
            } else if (percentage >= 50) {
                resultMessageElement.textContent = '¬°Buena exploraci√≥n! Tienes bases s√≥lidas para seguir aprendiendo';
            } else {
                resultMessageElement.textContent = '¬°Sigue investigando! La biolog√≠a es un mundo fascinante por descubrir';
            }
            
            // Mostrar resumen de respuestas
            resultsSummaryElement.innerHTML = '';
            currentQuestions.forEach((question, index) => {
                const userAnswer = userAnswers[index];
                const isCorrect = userAnswer === question.correct;
                
                const resultItem = document.createElement('div');
                resultItem.className = 'feedback ' + (isCorrect ? 'correct' : 'incorrect');
                resultItem.innerHTML = `
                    <p><strong>Pregunta ${index + 1}:</strong> ${question.question}</p>
                    <p><strong>Tu respuesta:</strong> ${question.options[userAnswer]}</p>
                    ${!isCorrect ? `<p><strong>Respuesta correcta:</strong> ${question.options[question.correct]}</p>` : ''}
                    <p><strong>Explicaci√≥n:</strong> ${question.explanation}</p>
                `;
                
                resultsSummaryElement.appendChild(resultItem);
            });
        }

        function restartQuiz() {
            resultsScreen.classList.remove('active');
            selectionScreen.classList.add('active');
        }
    </script>
    <video autoplay loop muted id="video_background">
                <source src="video3.mp4" type="video/mp4">
                <source src="video3.ogg" type="video/ogg">
                Tu navegador no soporta el formato de video.
            </video>
</body>
</html>